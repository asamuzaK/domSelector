var f=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var E=Object.getOwnPropertyNames;var T=Object.prototype.hasOwnProperty;var m=(p,r)=>{for(var t in r)f(p,t,{get:r[t],enumerable:!0})},u=(p,r,t,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of E(r))!T.call(p,s)&&s!==t&&f(p,s,{get:()=>r[s],enumerable:!(i=y(r,s))||i.enumerable});return p};var a=p=>u(f({},"__esModule",{value:!0}),p);var O={};m(O,{DOMSelector:()=>x});module.exports=a(O);var l=require("./js/finder.js"),o=require("./js/utility.js"),n=require("./js/constant.js");/*!
 * DOM Selector - A CSS selector engine.
 * @license MIT
 * @copyright asamuzaK (Kazz)
 * @see {@link https://github.com/asamuzaK/domSelector/blob/main/LICENSE}
 */class x{#e;#t;#r;constructor(r,t){this.#e=t??r.document,this.#t=new l.Finder(r),this.#r=(0,o.initNwsapi)(r,t)}matches(r,t,i){if(t?.nodeType){if(t.nodeType!==n.ELEMENT_NODE){const e=new TypeError(`Unexpected node ${t.nodeName}`);this.#t.onError(e,i)}}else{const e=new TypeError(`Unexpected type ${(0,o.getType)(t)}`);this.#t.onError(e,i)}const s=t.ownerDocument;if(s===this.#e&&s.contentType==="text/html"){const e={complex:n.REG_COMPLEX.test(r),target:n.TARGET_SELF};if((0,o.filterSelector)(r,e))try{return this.#r.match(r,t)}catch{}}let h;try{this.#t.setup(r,t,i),h=this.#t.find(n.TARGET_SELF).size}catch(e){this.#t.onError(e,i)}return!!h}closest(r,t,i){if(t?.nodeType){if(t.nodeType!==n.ELEMENT_NODE){const e=new TypeError(`Unexpected node ${t.nodeName}`);this.#t.onError(e,i)}}else{const e=new TypeError(`Unexpected type ${(0,o.getType)(t)}`);this.#t.onError(e,i)}const s=t.ownerDocument;if(s===this.#e&&s.contentType==="text/html"){const e={complex:n.REG_COMPLEX.test(r),target:n.TARGET_LINEAL};if((0,o.filterSelector)(r,e))try{return this.#r.closest(r,t)}catch{}}let h;try{this.#t.setup(r,t,i);const e=this.#t.find(n.TARGET_LINEAL);if(e.size){let c=t;for(;c;){if(e.has(c)){h=c;break}c=c.parentNode}}}catch(e){this.#t.onError(e,i)}return h??null}querySelector(r,t,i){if(!t?.nodeType){const e=new TypeError(`Unexpected type ${(0,o.getType)(t)}`);this.#t.onError(e,i)}let s;if(t.nodeType===n.DOCUMENT_NODE?s=t:s=t.ownerDocument,s===this.#e&&s.contentType==="text/html"&&(0,o.filterSelector)(r,{complex:!1,target:n.TARGET_FIRST}))try{return this.#r.first(r,t)}catch{}let h;try{this.#t.setup(r,t,i);const e=this.#t.find(n.TARGET_FIRST);e.size&&([h]=e)}catch(e){this.#t.onError(e,i)}return h??null}querySelectorAll(r,t,i){if(!t?.nodeType){const e=new TypeError(`Unexpected type ${(0,o.getType)(t)}`);this.#t.onError(e,i)}let s;if(t.nodeType===n.DOCUMENT_NODE?s=t:s=t.ownerDocument,s===this.#e&&s.contentType==="text/html"&&(0,o.filterSelector)(r,{complex:!1,target:n.TARGET_ALL}))try{return this.#r.select(r,t)}catch{}let h;try{this.#t.setup(r,t,i);const e=this.#t.find(n.TARGET_ALL);e.size&&(h=[...e])}catch(e){this.#t.onError(e,i)}return h??[]}}0&&(module.exports={DOMSelector});
//# sourceMappingURL=index.js.map
