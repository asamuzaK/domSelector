var f=Object.defineProperty;var y=Object.getOwnPropertyDescriptor;var a=Object.getOwnPropertyNames;var u=Object.prototype.hasOwnProperty;var T=(p,s)=>{for(var e in s)f(p,e,{get:s[e],enumerable:!0})},d=(p,s,e,i)=>{if(s&&typeof s=="object"||typeof s=="function")for(let n of a(s))!u.call(p,n)&&n!==e&&f(p,n,{get:()=>s[n],enumerable:!(i=y(s,n))||i.enumerable});return p};var x=p=>d(f({},"__esModule",{value:!0}),p);var w={};T(w,{DOMSelector:()=>$});module.exports=x(w);var m=require("./js/finder.js"),o=require("./js/utility.js"),r=require("./js/constant.js");/*!
 * DOM Selector - A CSS selector engine.
 * @license MIT
 * @copyright asamuzaK (Kazz)
 * @see {@link https://github.com/asamuzaK/domSelector/blob/main/LICENSE}
 */const E=new RegExp(`${r.COMPOUND_I}${r.COMBO}${r.COMPOUND_I}`,"i"),l=new RegExp(`${r.COMPOUND_I}${r.DESCEND}${r.COMPOUND_I}`,"i"),D=new RegExp(`^${r.ID_CLASS}$`);class ${#t;#s;#e;#r;constructor(s,e){this.#t=s,this.#s=e??s.document,this.#e=new m.Finder(s),this.#r=(0,o.initNwsapi)(s,e)}matches(s,e,i){if(e?.nodeType){if(e.nodeType!==r.ELEMENT_NODE){const t=new this.#t.TypeError(`Unexpected node ${e.nodeName}`);this.#e.onError(t,i)}}else{const t=new this.#t.TypeError(`Unexpected type ${(0,o.getType)(e)}`);this.#e.onError(t,i)}const n=e.ownerDocument;if(n===this.#s&&n.contentType==="text/html"){const t={complex:E.test(s),compound:!1,descend:!1,simple:!1,target:r.TARGET_SELF};if((0,o.filterSelector)(s,t))try{return this.#r.match(s,e)}catch{}}let h;try{this.#e.setup(s,e,i),h=this.#e.find(r.TARGET_SELF).size}catch(t){this.#e.onError(t,i)}return!!h}closest(s,e,i){if(e?.nodeType){if(e.nodeType!==r.ELEMENT_NODE){const t=new this.#t.TypeError(`Unexpected node ${e.nodeName}`);this.#e.onError(t,i)}}else{const t=new this.#t.TypeError(`Unexpected type ${(0,o.getType)(e)}`);this.#e.onError(t,i)}const n=e.ownerDocument;if(n===this.#s&&n.contentType==="text/html"){const t={complex:E.test(s),compound:!1,descend:!1,simple:!1,target:r.TARGET_LINEAL};if((0,o.filterSelector)(s,t))try{return this.#r.closest(s,e)}catch{}}let h;try{this.#e.setup(s,e,i);const t=this.#e.find(r.TARGET_LINEAL);if(t.size){let c=e;for(;c;){if(t.has(c)){h=c;break}c=c.parentNode}}}catch(t){this.#e.onError(t,i)}return h??null}querySelector(s,e,i){if(!e?.nodeType){const t=new this.#t.TypeError(`Unexpected type ${(0,o.getType)(e)}`);this.#e.onError(t,i)}let n;if(e.nodeType===r.DOCUMENT_NODE?n=e:n=e.ownerDocument,n===this.#s&&n.contentType==="text/html"){const t={complex:!1,compound:!E.test(s),descend:l.test(s),simple:D.test(s),target:r.TARGET_FIRST};if((0,o.filterSelector)(s,t))try{return this.#r.first(s,e)}catch{}}let h;try{this.#e.setup(s,e,i);const t=this.#e.find(r.TARGET_FIRST);t.size&&([h]=t)}catch(t){this.#e.onError(t,i)}return h??null}querySelectorAll(s,e,i){if(!e?.nodeType){const t=new this.#t.TypeError(`Unexpected type ${(0,o.getType)(e)}`);this.#e.onError(t,i)}let n;if(e.nodeType===r.DOCUMENT_NODE?n=e:n=e.ownerDocument,n===this.#s&&n.contentType==="text/html"){const t={complex:!1,compound:!1,descend:l.test(s),simple:!1,target:r.TARGET_ALL};if((0,o.filterSelector)(s,t))try{return this.#r.select(s,e)}catch{}}let h;try{this.#e.setup(s,e,i);const t=this.#e.find(r.TARGET_ALL);t.size&&(h=[...t])}catch(t){this.#e.onError(t,i)}return h??[]}}0&&(module.exports={DOMSelector});
//# sourceMappingURL=index.js.map
