var f=Object.defineProperty;var a=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var u=Object.prototype.hasOwnProperty;var d=(p,t)=>{for(var e in t)f(p,e,{get:t[e],enumerable:!0})},x=(p,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of T(t))!u.call(p,n)&&n!==e&&f(p,n,{get:()=>t[n],enumerable:!(i=a(t,n))||i.enumerable});return p};var D=p=>x(f({},"__esModule",{value:!0}),p);var w={};d(w,{DOMSelector:()=>$});module.exports=D(w);var y=require("./js/finder.js"),o=require("./js/utility.js"),r=require("./js/constant.js");/*!
 * DOM Selector - A CSS selector engine.
 * @license MIT
 * @copyright asamuzaK (Kazz)
 * @see {@link https://github.com/asamuzaK/domSelector/blob/main/LICENSE}
 */const E=new RegExp(`${r.COMPOUND_I}${r.COMBO}${r.COMPOUND_I}`,"i"),m=new RegExp(`${r.COMPOUND_I}${r.DESCEND}${r.COMPOUND_I}`,"i"),l=new RegExp(`^${r.TAG_ID_CLASS}$`);class ${#t;#s;#e;#r;constructor(t,e){this.#t=t,this.#s=e??t.document,this.#e=new y.Finder(t),this.#r=(0,o.initNwsapi)(t,e)}matches(t,e,i){if(e?.nodeType){if(e.nodeType!==r.ELEMENT_NODE){const s=new this.#t.TypeError(`Unexpected node ${e.nodeName}`);this.#e.onError(s,i)}}else{const s=new this.#t.TypeError(`Unexpected type ${(0,o.getType)(e)}`);this.#e.onError(s,i)}const n=e.ownerDocument;if(n===this.#s&&n.contentType==="text/html"){const s={complex:E.test(t),compound:!1,descend:!1,simple:!1,target:r.TARGET_SELF};if((0,o.filterSelector)(t,s))try{return this.#r.match(t,e)}catch{}}let h;try{this.#e.setup(t,e,i),h=this.#e.find(r.TARGET_SELF).size}catch(s){this.#e.onError(s,i)}return!!h}closest(t,e,i){if(e?.nodeType){if(e.nodeType!==r.ELEMENT_NODE){const s=new this.#t.TypeError(`Unexpected node ${e.nodeName}`);this.#e.onError(s,i)}}else{const s=new this.#t.TypeError(`Unexpected type ${(0,o.getType)(e)}`);this.#e.onError(s,i)}const n=e.ownerDocument;if(n===this.#s&&n.contentType==="text/html"){const s={complex:E.test(t),compound:!1,descend:!1,simple:!1,target:r.TARGET_LINEAL};if((0,o.filterSelector)(t,s))try{return this.#r.closest(t,e)}catch{}}let h;try{this.#e.setup(t,e,i);const s=this.#e.find(r.TARGET_LINEAL);if(s.size){let c=e;for(;c;){if(s.has(c)){h=c;break}c=c.parentNode}}}catch(s){this.#e.onError(s,i)}return h??null}querySelector(t,e,i){if(!e?.nodeType){const s=new this.#t.TypeError(`Unexpected type ${(0,o.getType)(e)}`);this.#e.onError(s,i)}let n;if(e.nodeType===r.DOCUMENT_NODE?n=e:n=e.ownerDocument,n===this.#s&&n.contentType==="text/html"){const s={complex:!1,compound:!(l.test(t)||E.test(t)),descend:m.test(t),simple:l.test(t),target:r.TARGET_FIRST};if((0,o.filterSelector)(t,s))try{return this.#r.first(t,e)}catch{}}let h;try{this.#e.setup(t,e,i);const s=this.#e.find(r.TARGET_FIRST);s.size&&([h]=s)}catch(s){this.#e.onError(s,i)}return h??null}querySelectorAll(t,e,i){if(!e?.nodeType){const s=new this.#t.TypeError(`Unexpected type ${(0,o.getType)(e)}`);this.#e.onError(s,i)}let n;if(e.nodeType===r.DOCUMENT_NODE?n=e:n=e.ownerDocument,n===this.#s&&n.contentType==="text/html"){const s={complex:!1,compound:!1,descend:m.test(t),simple:l.test(t),target:r.TARGET_ALL};if((0,o.filterSelector)(t,s))try{return this.#r.select(t,e)}catch{}}let h;try{this.#e.setup(t,e,i);const s=this.#e.find(r.TARGET_ALL);s.size&&(h=[...s])}catch(s){this.#e.onError(s,i)}return h??[]}}0&&(module.exports={DOMSelector});
//# sourceMappingURL=index.js.map
