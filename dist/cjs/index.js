var f=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var a=Object.prototype.hasOwnProperty;var u=(p,r)=>{for(var e in r)f(p,e,{get:r[e],enumerable:!0})},d=(p,r,e,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of m(r))!a.call(p,n)&&n!==e&&f(p,n,{get:()=>r[n],enumerable:!(i=T(r,n))||i.enumerable});return p};var x=p=>d(f({},"__esModule",{value:!0}),p);var N={};u(N,{DOMSelector:()=>D});module.exports=x(N);var l=require("./js/finder.js"),o=require("./js/utility.js"),s=require("./js/constant.js");/*!
 * DOM Selector - A CSS selector engine.
 * @license MIT
 * @copyright asamuzaK (Kazz)
 * @see {@link https://github.com/asamuzaK/domSelector/blob/main/LICENSE}
 */const E=new RegExp(`${s.COMBO}${s.COMPOUND_I}`,"i"),y=new RegExp(`${s.DESCEND}${s.COMPOUND_I}`,"i");class D{#t;#r;#e;#s;constructor(r,e){this.#t=r,this.#r=e??r.document,this.#e=new l.Finder(r),this.#s=(0,o.initNwsapi)(r,e)}matches(r,e,i){if(e?.nodeType){if(e.nodeType!==s.ELEMENT_NODE){const t=new this.#t.TypeError(`Unexpected node ${e.nodeName}`);this.#e.onError(t,i)}}else{const t=new this.#t.TypeError(`Unexpected type ${(0,o.getType)(e)}`);this.#e.onError(t,i)}const n=e.ownerDocument;if(n===this.#r&&n.contentType==="text/html"){const t={complex:E.test(r),descend:!1,target:s.TARGET_SELF};if((0,o.filterSelector)(r,t))try{return this.#s.match(r,e)}catch{}}let h;try{this.#e.setup(r,e,i),h=this.#e.find(s.TARGET_SELF).size}catch(t){this.#e.onError(t,i)}return!!h}closest(r,e,i){if(e?.nodeType){if(e.nodeType!==s.ELEMENT_NODE){const t=new this.#t.TypeError(`Unexpected node ${e.nodeName}`);this.#e.onError(t,i)}}else{const t=new this.#t.TypeError(`Unexpected type ${(0,o.getType)(e)}`);this.#e.onError(t,i)}const n=e.ownerDocument;if(n===this.#r&&n.contentType==="text/html"){const t={complex:E.test(r),descend:!1,target:s.TARGET_LINEAL};if((0,o.filterSelector)(r,t))try{return this.#s.closest(r,e)}catch{}}let h;try{this.#e.setup(r,e,i);const t=this.#e.find(s.TARGET_LINEAL);if(t.size){let c=e;for(;c;){if(t.has(c)){h=c;break}c=c.parentNode}}}catch(t){this.#e.onError(t,i)}return h??null}querySelector(r,e,i){if(!e?.nodeType){const t=new this.#t.TypeError(`Unexpected type ${(0,o.getType)(e)}`);this.#e.onError(t,i)}let n;if(e.nodeType===s.DOCUMENT_NODE?n=e:n=e.ownerDocument,n===this.#r&&n.contentType==="text/html"){const t={complex:!1,descend:y.test(r),target:s.TARGET_FIRST};if((0,o.filterSelector)(r,t))try{return this.#s.first(r,e)}catch{}}let h;try{this.#e.setup(r,e,i);const t=this.#e.find(s.TARGET_FIRST);t.size&&([h]=t)}catch(t){this.#e.onError(t,i)}return h??null}querySelectorAll(r,e,i){if(!e?.nodeType){const t=new this.#t.TypeError(`Unexpected type ${(0,o.getType)(e)}`);this.#e.onError(t,i)}let n;if(e.nodeType===s.DOCUMENT_NODE?n=e:n=e.ownerDocument,n===this.#r&&n.contentType==="text/html"){const t={complex:!1,descend:y.test(r),target:s.TARGET_ALL};if((0,o.filterSelector)(r,t))try{return this.#s.select(r,e)}catch{}}let h;try{this.#e.setup(r,e,i);const t=this.#e.find(s.TARGET_ALL);t.size&&(h=[...t])}catch(t){this.#e.onError(t,i)}return h??[]}}0&&(module.exports={DOMSelector});
//# sourceMappingURL=index.js.map
