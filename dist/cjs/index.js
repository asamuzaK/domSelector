var p=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var l=Object.getOwnPropertyNames;var T=Object.prototype.hasOwnProperty;var m=(f,r)=>{for(var t in r)p(f,t,{get:r[t],enumerable:!0})},a=(f,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of l(r))!T.call(f,i)&&i!==t&&p(f,i,{get:()=>r[i],enumerable:!(n=E(r,i))||n.enumerable});return f};var u=f=>a(p({},"__esModule",{value:!0}),f);var x={};m(x,{DOMSelector:()=>d});module.exports=u(x);var y=require("./js/finder.js"),h=require("./js/utility.js"),s=require("./js/constant.js");/*!
 * DOM Selector - A CSS selector engine.
 * @license MIT
 * @copyright asamuzaK (Kazz)
 * @see {@link https://github.com/asamuzaK/domSelector/blob/main/LICENSE}
 */class d{#e;#r;#t;#s;constructor(r,t){this.#e=r,this.#r=t??r.document,this.#t=new y.Finder(r),this.#s=(0,h.initNwsapi)(r,t)}matches(r,t,n){if(t?.nodeType){if(t.nodeType!==s.ELEMENT_NODE){const e=new this.#e.TypeError(`Unexpected node ${t.nodeName}`);this.#t.onError(e,n)}}else{const e=new this.#e.TypeError(`Unexpected type ${(0,h.getType)(t)}`);this.#t.onError(e,n)}const i=t.ownerDocument;if(i===this.#r&&i.contentType==="text/html"){const e={complex:s.REG_COMPLEX.test(r),descend:!1,target:s.TARGET_SELF};if((0,h.filterSelector)(r,e))try{return this.#s.match(r,t)}catch{}}let o;try{this.#t.setup(r,t,n),o=this.#t.find(s.TARGET_SELF).size}catch(e){this.#t.onError(e,n)}return!!o}closest(r,t,n){if(t?.nodeType){if(t.nodeType!==s.ELEMENT_NODE){const e=new this.#e.TypeError(`Unexpected node ${t.nodeName}`);this.#t.onError(e,n)}}else{const e=new this.#e.TypeError(`Unexpected type ${(0,h.getType)(t)}`);this.#t.onError(e,n)}const i=t.ownerDocument;if(i===this.#r&&i.contentType==="text/html"){const e={complex:s.REG_COMPLEX.test(r),descend:!1,target:s.TARGET_LINEAL};if((0,h.filterSelector)(r,e))try{return this.#s.closest(r,t)}catch{}}let o;try{this.#t.setup(r,t,n);const e=this.#t.find(s.TARGET_LINEAL);if(e.size){let c=t;for(;c;){if(e.has(c)){o=c;break}c=c.parentNode}}}catch(e){this.#t.onError(e,n)}return o??null}querySelector(r,t,n){if(!t?.nodeType){const e=new this.#e.TypeError(`Unexpected type ${(0,h.getType)(t)}`);this.#t.onError(e,n)}let i;if(t.nodeType===s.DOCUMENT_NODE?i=t:i=t.ownerDocument,i===this.#r&&i.contentType==="text/html"){const e={complex:!1,descend:s.REG_DESCEND.test(r),target:s.TARGET_FIRST};if((0,h.filterSelector)(r,e))try{return this.#s.first(r,t)}catch{}}let o;try{this.#t.setup(r,t,n);const e=this.#t.find(s.TARGET_FIRST);e.size&&([o]=e)}catch(e){this.#t.onError(e,n)}return o??null}querySelectorAll(r,t,n){if(!t?.nodeType){const e=new this.#e.TypeError(`Unexpected type ${(0,h.getType)(t)}`);this.#t.onError(e,n)}let i;if(t.nodeType===s.DOCUMENT_NODE?i=t:i=t.ownerDocument,i===this.#r&&i.contentType==="text/html"){const e={complex:!1,descend:s.REG_DESCEND.test(r),target:s.TARGET_ALL};if((0,h.filterSelector)(r,e))try{return this.#s.select(r,t)}catch{}}let o;try{this.#t.setup(r,t,n);const e=this.#t.find(s.TARGET_ALL);e.size&&(o=[...e])}catch(e){this.#t.onError(e,n)}return o??[]}}0&&(module.exports={DOMSelector});
//# sourceMappingURL=index.js.map
