var d=Object.create;var f=Object.defineProperty;var _=Object.getOwnPropertyDescriptor;var k=Object.getOwnPropertyNames;var I=Object.getPrototypeOf,R=Object.prototype.hasOwnProperty;var v=(e,t)=>{for(var r in t)f(e,r,{get:t[r],enumerable:!0})},E=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of k(t))!R.call(e,o)&&o!==r&&f(e,o,{get:()=>t[o],enumerable:!(i=_(t,o))||i.enumerable});return e};var g=(e,t,r)=>(r=e!=null?d(I(e)):{},E(t||!e||!e.__esModule?f(r,"default",{value:e,enumerable:!0}):r,e)),U=e=>E(f({},"__esModule",{value:!0}),e);var L={};v(L,{getDirectionality:()=>y,getNamespaceURI:()=>C,getSlottedTextContent:()=>m,isContentEditable:()=>w,isCustomElement:()=>$,isInShadowTree:()=>D,isNamespaceDeclared:()=>P,isPreceding:()=>O,resolveContent:()=>M,sortNodes:()=>A,traverseNode:()=>S,verifyNode:()=>n});module.exports=U(L);var h=g(require("bidi-js"),1),u=g(require("is-potential-custom-element-name"),1),s=require("./constant.js");const n=e=>{if(!e||!e.nodeType||!e.nodeName){const r=`Unexpected type ${Object.prototype.toString.call(e).slice(s.TYPE_FROM,s.TYPE_TO)}`;throw new TypeError(r)}else if(!(e.nodeType===s.DOCUMENT_NODE||e.nodeType===s.DOCUMENT_FRAGMENT_NODE||e.nodeType===s.ELEMENT_NODE)){const t=`Unexpected node ${e.nodeName}`;throw new TypeError(t)}return e},M=e=>{e=n(e);let t,r;switch(e.nodeType){case s.DOCUMENT_NODE:{t=e,r=e;break}case s.DOCUMENT_FRAGMENT_NODE:{t=e.ownerDocument,r=e;break}case s.ELEMENT_NODE:default:{t=e.ownerDocument;let o=e;for(;o&&o.parentNode;)o=o.parentNode;r=o;break}}const i=t.createTreeWalker(r,s.WALKER_FILTER);return[t,r,i]},S=(e,t)=>{let r;if(!e||!e.nodeType)n(e);else if(t?.currentNode){let i=t.currentNode;if(i===e)r=i;else if(i.contains(e))for(i=t.nextNode();i;){if(i===e){r=i;break}i=t.nextNode()}else{if(i!==t.root)for(;i&&!(i===t.root||i===e);)i=t.parentNode();if(e.nodeType===s.ELEMENT_NODE)for(;i;){if(i===e){r=i;break}i=t.nextNode()}else r=i}}return r??null},$=(e,t={})=>{let r;if(!e||!e.nodeType)n(e);else if(e.nodeType===s.ELEMENT_NODE){const{localName:i,ownerDocument:o}=e,{formAssociated:c}=t,l=o.defaultView;let a;const p=e.getAttribute("is");p?a=(0,u.default)(p)&&l.customElements.get(p):a=(0,u.default)(i)&&l.customElements.get(i),a&&(c?r=a.formAssociated:r=!0)}return!!r},D=e=>{let t;if(!e||!e.nodeType)n(e);else if(e.nodeType===s.ELEMENT_NODE||e.nodeType===s.DOCUMENT_FRAGMENT_NODE){let r=e;for(;r;){const{host:i,mode:o,nodeType:c,parentNode:l}=r;if(i&&o&&c===s.DOCUMENT_FRAGMENT_NODE&&s.REG_SHADOW_MODE.test(o)){t=!0;break}r=l}}return!!t},m=e=>{let t;if(!e||!e.nodeType)n(e);else if(e.localName==="slot"&&D(e)){const r=e.assignedNodes();if(r.length){for(const i of r)if(t=i.textContent.trim(),t)break}else t=e.textContent.trim()}return t??null},y=e=>{let t;if(!e||!e.nodeType)n(e);else if(e.nodeType===s.ELEMENT_NODE){const{dir:r,localName:i,parentNode:o}=e,{getEmbeddingLevels:c}=(0,h.default)();if(s.REG_DIR.test(r))t=r;else if(r==="auto"){let l;switch(i){case"input":{!e.type||/^(?:button|email|hidden|password|reset|search|submit|tel|text|url)$/.test(e.type)?l=e.value:/^(?:checkbox|color|date|image|number|radio|range|time)$/.test(e.type)&&(t="ltr");break}case"slot":{l=m(e);break}case"textarea":{l=e.value;break}default:{const a=[].slice.call(e.childNodes);for(const p of a){const{dir:T,localName:N,nodeType:b,textContent:x}=p;if(b===s.TEXT_NODE?l=x.trim():b===s.ELEMENT_NODE&&!/^(?:bdi|script|style|textarea)$/.test(N)&&(!T||!s.REG_DIR.test(T))&&(N==="slot"?l=m(p):l=x.trim()),l)break}}}if(l){const{paragraphs:[{level:a}]}=c(l);a%2===1?t="rtl":t="ltr"}if(!t)if(o){const{nodeType:a}=o;a===s.ELEMENT_NODE?t=y(o):(a===s.DOCUMENT_NODE||a===s.DOCUMENT_FRAGMENT_NODE)&&(t="ltr")}else t="ltr"}else if(i==="bdi"){const l=e.textContent.trim();if(l){const{paragraphs:[{level:a}]}=c(l);a%2===1?t="rtl":t="ltr"}t||o||(t="ltr")}else if(i==="input"&&e.type==="tel")t="ltr";else if(o){if(i==="slot"){const l=m(e);if(l){const{paragraphs:[{level:a}]}=c(l);a%2===1?t="rtl":t="ltr"}}if(!t){const{nodeType:l}=o;l===s.ELEMENT_NODE?t=y(o):(l===s.DOCUMENT_NODE||l===s.DOCUMENT_FRAGMENT_NODE)&&(t="ltr")}}else t="ltr"}return t??null},w=e=>{let t;if(!e||!e.nodeType)n(e);else if(e.nodeType===s.ELEMENT_NODE){if(typeof e.isContentEditable=="boolean")t=e.isContentEditable;else if(e.ownerDocument.designMode==="on")t=!0;else if(e.hasAttribute("contenteditable")){const r=e.getAttribute("contenteditable");if(r===""||/^(?:plaintext-only|true)$/.test(r))t=!0;else if(r==="inherit"){let i=e.parentNode;for(;i;){if(w(i)){t=!0;break}i=i.parentNode}}}}return!!t},C=(e,t)=>{let r;if(typeof e!="string"||!t||!t.nodeType)if(typeof e!="string"){const o=`Unexpected type ${Object.prototype.toString.call(e).slice(s.TYPE_FROM,s.TYPE_TO)}`;throw new TypeError(o)}else n(t);else if(e&&t.nodeType===s.ELEMENT_NODE){const{attributes:i}=t;for(const o of i){const{name:c,namespaceURI:l,prefix:a,value:p}=o;if(c===`xmlns:${e}`){r=p;break}else if(a===e){r=l;break}}}return r??null},P=(e="",t={})=>{let r;if(e&&typeof e=="string"&&t.nodeType===s.ELEMENT_NODE&&(r=t.lookupNamespaceURI(e),!r)){const i=t.ownerDocument.documentElement;let o=t;for(;o&&(r=C(e,o),!(r||o===i));)o=o.parentNode}return!!r},O=(e,t)=>{let r;if(!e||!e.nodeType)n(e);else if(!t||!t.nodeType)n(t);else if(e.nodeType===s.ELEMENT_NODE&&t.nodeType===s.ELEMENT_NODE){const i=t.compareDocumentPosition(e);r=i&s.DOCUMENT_POSITION_PRECEDING||i&s.DOCUMENT_POSITION_CONTAINS}return!!r},A=(e=[])=>{const t=[...e];return t.length>1&&t.sort((r,i)=>{let o;return O(i,r)?o=1:o=-1,o}),t};0&&(module.exports={getDirectionality,getNamespaceURI,getSlottedTextContent,isContentEditable,isCustomElement,isInShadowTree,isNamespaceDeclared,isPreceding,resolveContent,sortNodes,traverseNode,verifyNode});
//# sourceMappingURL=dom-util.js.map
