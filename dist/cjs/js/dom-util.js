var O=Object.create;var p=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var C=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var I=(e,t)=>{for(var i in t)p(e,i,{get:t[i],enumerable:!0})},E=(e,t,i,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let l of h(t))!_.call(e,l)&&l!==i&&p(e,l,{get:()=>t[l],enumerable:!(s=g(t,l))||s.enumerable});return e};var v=(e,t,i)=>(i=e!=null?O(C(e)):{},E(t||!e||!e.__esModule?p(i,"default",{value:e,enumerable:!0}):i,e)),w=e=>E(p({},"__esModule",{value:!0}),e);var A={};I(A,{getDirectionality:()=>N,getSlottedTextContent:()=>f,isContentEditable:()=>D,isInShadowTree:()=>x,isInclusive:()=>k,isNamespaceDeclared:()=>M,isPreceding:()=>P,selectorToNodeProps:()=>S});module.exports=w(A);var y=v(require("bidi-js"),1),r=require("./constant.js");const c=(0,y.default)(),x=(e={})=>{let t;if(e.nodeType===r.ELEMENT_NODE||e.nodeType===r.DOCUMENT_FRAGMENT_NODE){let i=e;for(;i;){const{host:s,mode:l,nodeType:n,parentNode:o}=i;if(s&&l&&n===r.DOCUMENT_FRAGMENT_NODE&&r.REG_SHADOW_MODE.test(l)){t=!0;break}i=o}}return!!t},f=(e={})=>{let t;if(e.localName==="slot"&&x(e)){const i=e.assignedNodes();if(i.length){for(const s of i)if(t=s.textContent.trim(),t)break}else t=e.textContent.trim()}return t??null},N=(e={})=>{let t;if(e.nodeType===r.ELEMENT_NODE){const{dir:i,localName:s,parentNode:l}=e,n=/^(?:ltr|rtl)$/;if(n.test(i))t=i;else if(i==="auto"){let o;switch(s){case"input":{(!e.type||/^(?:(?:butto|hidde)n|(?:emai|te|ur)l|(?:rese|submi|tex)t|password|search)$/.test(e.type))&&(o=e.value);break}case"slot":{o=f(e);break}case"textarea":{o=e.value;break}default:{const a=[].slice.call(e.childNodes);for(const m of a){const{dir:u,localName:T,nodeType:d,textContent:b}=m;if(d===r.TEXT_NODE?o=b.trim():d===r.ELEMENT_NODE&&!/^(?:bdi|s(?:cript|tyle)|textarea)$/.test(T)&&(!u||!n.test(u))&&(T==="slot"?o=f(m):o=b.trim()),o)break}}}if(o){const{paragraphs:[{level:a}]}=c.getEmbeddingLevels(o);a%2===1?t="rtl":t="ltr"}if(!t)if(l){const{nodeType:a}=l;a===r.ELEMENT_NODE?t=N(l):(a===r.DOCUMENT_NODE||a===r.DOCUMENT_FRAGMENT_NODE)&&(t="ltr")}else t="ltr"}else if(s==="bdi"){const o=e.textContent.trim();if(o){const{paragraphs:[{level:a}]}=c.getEmbeddingLevels(o);a%2===1?t="rtl":t="ltr"}t||l||(t="ltr")}else if(s==="input"&&e.type==="tel")t="ltr";else if(l){if(s==="slot"){const o=f(e);if(o){const{paragraphs:[{level:a}]}=c.getEmbeddingLevels(o);a%2===1?t="rtl":t="ltr"}}if(!t){const{nodeType:o}=l;o===r.ELEMENT_NODE?t=N(l):(o===r.DOCUMENT_NODE||o===r.DOCUMENT_FRAGMENT_NODE)&&(t="ltr")}}else t="ltr"}return t??null},D=(e={})=>{let t;if(e.nodeType===r.ELEMENT_NODE){if(typeof e.isContentEditable=="boolean")t=e.isContentEditable;else if(e.ownerDocument.designMode==="on")t=!0;else if(e.hasAttribute("contenteditable")){const i=e.getAttribute("contenteditable");if(i===""||/^(?:plaintext-only|true)$/.test(i))t=!0;else if(i==="inherit"){let s=e.parentNode;for(;s;){if(D(s)){t=!0;break}s=s.parentNode}}}}return!!t},M=(e="",t={})=>{let i;if(e&&typeof e=="string"&&t.nodeType===r.ELEMENT_NODE){const s=`xmlns:${e}`,l=t.ownerDocument.documentElement;let n=t;for(;n;){if(typeof n.hasAttribute=="function"&&n.hasAttribute(s)){i=!0;break}else if(n===l)break;n=n.parentNode}}return!!i},k=(e={},t={})=>{let i;if(e.nodeType===r.ELEMENT_NODE&&t.nodeType===r.ELEMENT_NODE){const s=t.compareDocumentPosition(e);i=s&r.DOCUMENT_POSITION_CONTAINS||s&r.DOCUMENT_POSITION_CONTAINED_BY}return!!i},P=(e={},t={})=>{let i;if(e.nodeType===r.ELEMENT_NODE&&t.nodeType===r.ELEMENT_NODE){const s=t.compareDocumentPosition(e);i=s&r.DOCUMENT_POSITION_PRECEDING||s&r.DOCUMENT_POSITION_CONTAINS}return!!i},S=(e,t)=>{let i,s;if(e&&typeof e=="string")e.indexOf("|")>-1?[i,s]=e.split("|"):(i="*",s=e);else throw new DOMException(`Invalid selector ${e}`,r.SYNTAX_ERR);return{prefix:i,tagName:s}};0&&(module.exports={getDirectionality,getSlottedTextContent,isContentEditable,isInShadowTree,isInclusive,isNamespaceDeclared,isPreceding,selectorToNodeProps});
//# sourceMappingURL=dom-util.js.map
