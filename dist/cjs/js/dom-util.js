var D=Object.create;var a=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,C=Object.prototype.hasOwnProperty;var w=(e,t)=>{for(var i in t)a(e,i,{get:t[i],enumerable:!0})},b=(e,t,i,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of h(t))!C.call(e,n)&&n!==i&&a(e,n,{get:()=>t[n],enumerable:!(s=g(t,n))||s.enumerable});return e};var _=(e,t,i)=>(i=e!=null?D(O(e)):{},b(t||!e||!e.__esModule?a(i,"default",{value:e,enumerable:!0}):i,e)),v=e=>b(a({},"__esModule",{value:!0}),e);var k={};w(k,{getDirectionality:()=>c,getSlottedTextContent:()=>f,isContentEditable:()=>E,isInShadowTree:()=>x,isNamespaceDeclared:()=>A,isSameOrDescendant:()=>M,selectorToNodeProps:()=>$});module.exports=v(k);var y=_(require("bidi-js"),1),l=require("./constant.js");const p=(0,y.default)(),x=(e={})=>{let t;if(e.nodeType===l.ELEMENT_NODE||e.nodeType===l.DOCUMENT_FRAGMENT_NODE){let i=e;for(;i;){const{host:s,mode:n,nodeType:r,parentNode:o}=i;if(s&&n&&r===l.DOCUMENT_FRAGMENT_NODE&&l.REG_SHADOW_MODE.test(n)){t=!0;break}i=o}}return!!t},f=(e={})=>{let t;if(e.localName==="slot"&&x(e)){const i=e.assignedNodes();if(i.length){for(const s of i)if(t=s.textContent.trim(),t)break}else t=e.textContent.trim()}return t??null},c=(e={})=>{let t;if(e.nodeType===l.ELEMENT_NODE){const{dir:i,localName:s,parentNode:n}=e;if(/^(?:ltr|rtl)$/.test(i))t=i;else if(i==="auto"){let r;if(s==="textarea")r=e.value;else if(s==="input"&&(!e.type||/^(?:(?:butto|hidde)n|(?:emai|te|ur)l|(?:rese|submi|tex)t|password|search)$/.test(e.type)))r=e.value;else if(s==="slot")r=f(e);else{const o=[].slice.call(e.childNodes);for(const m of o){const{dir:u,localName:d,nodeType:N,textContent:T}=m;if(N===l.TEXT_NODE?r=T.trim():N===l.ELEMENT_NODE&&!/^(?:bdi|s(?:cript|tyle)|textarea)$/.test(d)&&(!u||!/^(?:ltr|rtl)$/.test(u))&&(d==="slot"?r=f(m):r=T.trim()),r)break}}if(r){const{paragraphs:[{level:o}]}=p.getEmbeddingLevels(r);o%2===1?t="rtl":t="ltr"}if(!t)if(n){const{nodeType:o}=n;o===l.ELEMENT_NODE?t=c(n):(o===l.DOCUMENT_NODE||o===l.DOCUMENT_FRAGMENT_NODE)&&(t="ltr")}else t="ltr"}else if(s==="bdi"){const r=e.textContent.trim();if(r){const{paragraphs:[{level:o}]}=p.getEmbeddingLevels(r);o%2===1?t="rtl":t="ltr"}t||n||(t="ltr")}else if(s==="input"&&e.type==="tel")t="ltr";else if(n){if(s==="slot"){const r=f(e);if(r){const{paragraphs:[{level:o}]}=p.getEmbeddingLevels(r);o%2===1?t="rtl":t="ltr"}}if(!t){const{nodeType:r}=n;r===l.ELEMENT_NODE?t=c(n):(r===l.DOCUMENT_NODE||r===l.DOCUMENT_FRAGMENT_NODE)&&(t="ltr")}}else t="ltr"}return t??null},E=(e={})=>{let t;if(e.nodeType===l.ELEMENT_NODE){if(typeof e.isContentEditable=="boolean")t=e.isContentEditable;else if(e.ownerDocument.designMode==="on")t=!0;else if(e.hasAttribute("contenteditable")){const i=e.getAttribute("contenteditable");if(i===""||/^(?:plaintext-only|true)$/.test(i))t=!0;else if(i==="inherit"){let s=e.parentNode;for(;s;){if(E(s)){t=!0;break}s=s.parentNode}}}}return!!t},A=(e="",t={})=>{let i;if(e&&typeof e=="string"&&t.nodeType===l.ELEMENT_NODE){const s=`xmlns:${e}`,n=t.ownerDocument.documentElement;let r=t;for(;r;){if(typeof r.hasAttribute=="function"&&r.hasAttribute(s)){i=!0;break}else if(r===n)break;r=r.parentNode}}return!!i},M=(e={},t={})=>{let i;return e.ownerDocument&&e.nodeType===l.ELEMENT_NODE&&((!t||t.nodeType!==l.ELEMENT_NODE)&&(t=e.ownerDocument),e===t?i=!0:t&&(i=t.compareDocumentPosition(e)&l.DOCUMENT_POSITION_CONTAINED_BY)),!!i},$=(e,t)=>{let i,s;if(e&&typeof e=="string")e.indexOf("|")>-1?[i,s]=e.split("|"):(i="*",s=e);else throw new DOMException(`Invalid selector ${e}`,l.SYNTAX_ERR);return{prefix:i,tagName:s}};0&&(module.exports={getDirectionality,getSlottedTextContent,isContentEditable,isInShadowTree,isNamespaceDeclared,isSameOrDescendant,selectorToNodeProps});
//# sourceMappingURL=dom-util.js.map
